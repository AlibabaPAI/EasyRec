syntax = "proto2";
package protos;

import "easy_rec/python/protos/dnn.proto";
import "easy_rec/python/protos/layer.proto";
import "easy_rec/python/protos/fibinet.proto";
import "easy_rec/python/protos/masknet.proto";


message SequenceLayer {
    optional DNN mlp = 1;
}

message Block {
    required string name = 1;
    // the input names of feature groups or other blocks
    repeated string inputs = 2;
    oneof layer {
        InputLayer input_layer = 101;
        DNN mlp = 102;
        PeriodicEmbedding periodic_embedding = 103;
        AutoDisEmbedding auto_dis_embedding = 104;
        SequenceLayer sequence_encoder = 105;
        HighWayTower highway = 106;
        MaskNet masknet = 107;
        SENet senet = 108;
        FiBiNetTower fibinet = 109;
    }
}

message BackboneTower {
    repeated Block blocks = 1;
    repeated string concat_blocks = 2;
    optional DNN top_mlp = 3;
}