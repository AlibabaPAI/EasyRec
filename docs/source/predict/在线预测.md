# Online Prediction

可以使用TF Processor或者自定义Processor, 具体参考:[EAS加载模型](https://help.aliyun.com/document_detail/113696.html?spm=a2c4g.11186623.6.716.69da371b9G94HF)

部署模型示例:

```bash
#!/bin/bash
bizdate=$1

cat << EOF > eas_config_rank.json
{
 "name": "dbmtl_rank_ml",
 "generate_token": "true",
 "model_path": "oss://XXX/${bizdate}/export/best/",
 "processor": "tensorflow_cpu",
 "oss_endpoint": "oss-us-west-1.aliyuncs.com",
 "token": "XXXX",
 "metadata":{
    "region": "us-west-1",
    "instance": 4,
    "cpu": 8,
    "gpu": 0,
    "memory": 8000
 }
}
EOF
cat eas_config_rank.json

# 创建服务
# /home/admin/usertools/tools/eascmd -i <AccessKeyID> -k <AccessKeySecret> \
# -e pai-eas.us-west-1.aliyuncs.com create eas_config_rank.json

# 更新服务 
echo "-------------------更新服务-------------------"
/home/admin/usertools/tools/eascmd -i <AccessKeyID> -k <AccessKeySecret> \
-e pai-eas.us-west-1.aliyuncs.com \
modify dbmtl_rank_ml -s eas_config_rank.json

status=$?

# 查看服务
echo "-------------------查看服务-------------------"
/home/admin/usertools/tools/eascmd -i <AccessKeyID> -k <AccessKeySecret>  \
-e pai-eas.us-west-1.aliyuncs.com desc dbmtl_rank_ml

exit ${status}
```

如果您用到了fg，可以参考：[RTP FG的预测部分](../feature/rtp_fg.md/)

如果需要用到PaiRec进行在线推荐服务，可以参考：[PaiRec部署服务](http://pai-vision-data-hz.oss-cn-zhangjiakou.aliyuncs.com/pairec/docs/pairec/html/deploy/eas.html)
